{"templateId":"5c6edbf3-9eb4-4bda-97c0-eb91b072b991","name":"otrs.delete","description":"Config items are deleted if they no longer exist in i-doit. Config items are filtered according to the object-types “client”. The identifier field is config item name.","connection":{"title":"de","description":"","fromConnector":{"connectorId":27,"invoker":{"name":"i-doit","links":[]},"methods":[{"nodeId":null,"index":"0","name":"cmdb.objects.read","color":"#FFCFB5","request":{"nodeId":null,"endpoint":"{url}","method":"POST","header":null,"body":{"method":"cmdb.objects.read","id":"1","params":{"filter":{"sys_id":"","firstname":"","ids":[],"type_title":"","title":"","type":["10"],"email":"","lastname":""},"apikey":"{apikey}","limit":"","order_by":"","language":"","sort":""},"version":"2.0"},"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":{"result":[{"image":"","cmdb_status_title":"","sysid":"","created":"","type_title":"","cmdb_status":"","id":"","type":"","title":"","updated":"","status":"","type_group_title":""}],"id":"","jsonrpc":""},"links":[]},"fail":{"nodeId":null,"status":"200","header":null,"body":{"error":{"code":"","data":"","message":""}},"links":[]},"links":[]},"links":[]}],"operators":[],"links":[]},"toConnector":{"connectorId":28,"invoker":{"name":"otrs","links":[]},"methods":[{"nodeId":null,"index":"0","name":"ConfigItemSearch","color":"#C77E7E","request":{"nodeId":null,"endpoint":"{url}/{WebService}/ConfigItemSearch/{UserLogin}/{Password}","method":"POST","header":null,"body":{"ConfigItem":{"Number":"","InciState":"","DeplState":"","Class":"Hardware","Name":""}},"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":{"ConfigItemIDs":[]},"links":[]},"fail":{"nodeId":null,"status":"200","header":null,"body":{"Error":{"ErrorCode":"","ErrorMessage":""}},"links":[]},"links":[]},"links":[]},{"nodeId":null,"index":"1","name":"ConfigItemGet","color":"#6477AB","request":{"nodeId":null,"endpoint":"{url}/{WebService}/ConfigItemGet/{UserLogin}/{Password}","method":"POST","header":null,"body":{"ConfigItemID":"#C77E7E.(response).success.ConfigItemIDs[]"},"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":{"ConfigItem":[{"Number":"","InciState":"","DeplState":"","Class":"","CIXMLData":{"Vendor":""},"Name":""}]},"links":[]},"fail":{"nodeId":null,"status":"500","header":null,"body":{"faultstring":"","faultcode":""},"links":[]},"links":[]},"links":[]},{"nodeId":null,"index":"2_0_0","name":"ConfigItemDelete","color":"#98BEC7","request":{"nodeId":null,"endpoint":"{url}/{WebService}/ConfigItemDelete/{UserLogin}/{Password}","method":"POST","header":null,"body":{"ConfigItemID":"#6477AB.(response).success.ConfigItem[]"},"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":{"ConfigItemID":[]},"links":[]},"fail":{"nodeId":null,"status":"200","header":null,"body":{"Error":{"ErrorCode":"","ErrorMessage":""}},"links":[]},"links":[]},"links":[]}],"operators":[{"nodeId":null,"type":"loop","index":"2","condition":{"relationalOperator":"","leftStatement":{"color":"#6477AB","field":"success.ConfigItem[]","type":"response","rightPropertyValue":"","links":[]},"rightStatement":null,"links":[]},"links":[]},{"nodeId":null,"type":"if","index":"2_0","condition":{"relationalOperator":"NotContains","leftStatement":{"color":"#FFCFB5","field":"success.result[]","type":"response","rightPropertyValue":"","links":[]},"rightStatement":{"color":"#6477AB","field":"success.ConfigItem[].Name","type":"response","rightPropertyValue":"title","links":[]},"links":[]},"links":[]}],"links":[]},"fieldBinding":[{"from":[{"color":"#C77E7E","type":"response","field":"success.ConfigItemIDs[]","links":[]}],"enhancement":{"enhanceId":null,"name":"","description":"","expertCode":"RESULT_VAR = VAR_0;","expertVar":"//var RESULT_VAR = #6477AB.(request).ConfigItemID[];\n//var VAR_0 = #C77E7E.(response).success.ConfigItemIDs[];","simpleCode":null,"language":"js","links":[]},"to":[{"color":"#6477AB","type":"request","field":"ConfigItemID[]","links":[]}],"links":[]},{"from":[{"color":"#6477AB","type":"response","field":"success.ConfigItem[]","links":[]}],"enhancement":{"enhanceId":null,"name":"","description":"","expertCode":"RESULT_VAR = [VAR_0.ConfigItemID];","expertVar":"//var RESULT_VAR = #98BEC7.(request).ConfigItemID[];\n//var VAR_0 = #6477AB.(response).success.ConfigItem[];","simpleCode":null,"language":"js","links":[]},"to":[{"color":"#98BEC7","type":"request","field":"ConfigItemID[]","links":[]}],"links":[]}],"links":[]}}
