{"templateId":"7c9db87d-2fb1-42ef-b379-9206dc8a0b62","name":"Delete Nodes. v7","description":"","license":null,"connection":{"title":"Delete","description":"","fromConnector":{"connectorId":2,"invoker":{"name":"i-doit","links":[]},"methods":[{"nodeId":null,"index":"0","name":"cmdb.objects.read","color":"#FFCFB5","request":{"nodeId":null,"endpoint":"{url}","method":"POST","header":null,"body":{"method":"cmdb.objects.read","id":"1","params":{"filter":{"sys_id":"","firstname":"","ids":[],"type_title":"","type":["59"],"title":"","email":"","lastname":""},"apikey":"{apikey}","limit":"","order_by":"","language":"","sort":""},"version":"2.0"},"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":{"result":[{"image":"","cmdb_status_title":"","sysid":"","created":"","type_title":"","id":"","cmdb_status":"","title":"","type":"","updated":"","type_group_title":"","status":""}],"id":"","jsonrpc":""},"links":[]},"fail":{"nodeId":null,"status":"200","header":null,"body":{"error":{"code":"","data":"","message":""}},"links":[]},"links":[]},"links":[]}],"operators":[],"links":[]},"toConnector":{"connectorId":9,"invoker":{"name":"openNMS","links":[]},"methods":[{"nodeId":null,"index":"0_0","name":"deleteRequisition","color":"#C77E7E","request":{"nodeId":null,"endpoint":"{url}/rest/requisitions/{%#FFCFB5.(response).success.result[].title%}","method":"DELETE","header":{"Authorization":"{token}","Accept":"application/json","Content-Type":"application/json"},"body":null,"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":null,"links":[]},"fail":{"nodeId":null,"status":"400","header":null,"body":null,"links":[]},"links":[]},"links":[]},{"nodeId":null,"index":"0_1","name":"deleteRequisitionDeployed","color":"#6477AB","request":{"nodeId":null,"endpoint":"{url}/rest/requisitions/deployed/{%#FFCFB5.(response).success.result[].title%}","method":"DELETE","header":{"Authorization":"{token}","Accept":"application/json","Content-Type":"application/json"},"body":null,"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":null,"links":[]},"fail":{"nodeId":null,"status":"400","header":null,"body":null,"links":[]},"links":[]},"links":[]},{"nodeId":null,"index":"0_2","name":"deleteForeignSources","color":"#98BEC7","request":{"nodeId":null,"endpoint":"{url}/rest/foreignSources/{%#FFCFB5.(response).success.result[].title%}","method":"DELETE","header":{"Authorization":"{token}","Accept":"application/json","Content-Type":"application/json"},"body":null,"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":null,"links":[]},"fail":{"nodeId":null,"status":"400","header":null,"body":null,"links":[]},"links":[]},"links":[]},{"nodeId":null,"index":"0_3","name":"deleteForeignSourcesDeployed","color":"#9EC798","request":{"nodeId":null,"endpoint":"{url}/rest/foreignSources/deployed/{%#FFCFB5.(response).success.result[].title%}","method":"DELETE","header":{"Authorization":"{token}","Accept":"application/json","Content-Type":"application/json"},"body":null,"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":null,"links":[]},"fail":{"nodeId":null,"status":"400","header":null,"body":null,"links":[]},"links":[]},"links":[]},{"nodeId":null,"index":"0_4","name":"getNodes","color":"#BFC798","request":{"nodeId":null,"endpoint":"{url}/rest/nodes?limit=0","method":"GET","header":{"Authorization":"{token}","Accept":"application/json","Content-Type":"application/json"},"body":null,"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":{"node":[{"foreignId":"","id":"","label":""}],"offset":"","count":"","totalCount":""},"links":[]},"fail":{"nodeId":null,"status":"400","header":null,"body":null,"links":[]},"links":[]},"links":[]},{"nodeId":null,"index":"0_5_0_0","name":"deleteNode","color":"#E6E6EA","request":{"nodeId":null,"endpoint":"{url}/rest/nodes/{%#BFC798.(response).success.node[].id%}","method":"DELETE","header":{"Authorization":"{token}","Accept":"application/json","Content-Type":"application/json"},"body":null,"links":[]},"response":{"nodeId":null,"name":"response","success":{"nodeId":null,"status":"200","header":null,"body":null,"links":[]},"fail":{"nodeId":null,"status":"400","header":null,"body":null,"links":[]},"links":[]},"links":[]}],"operators":[{"nodeId":null,"type":"loop","index":"0","condition":{"relationalOperator":"","leftStatement":{"color":"#FFCFB5","field":"success.result[]","type":"response","rightPropertyValue":"","links":[]},"rightStatement":null,"links":[]},"links":[]},{"nodeId":null,"type":"loop","index":"0_5","condition":{"relationalOperator":"","leftStatement":{"color":"#BFC798","field":"success.node[]","type":"response","rightPropertyValue":"","links":[]},"rightStatement":null,"links":[]},"links":[]},{"nodeId":null,"type":"if","index":"0_5_0","condition":{"relationalOperator":"=","leftStatement":{"color":"#BFC798","field":"success.node[].label","type":"response","rightPropertyValue":"","links":[]},"rightStatement":{"color":"#FFCFB5","field":"success.result[].title","type":"response","rightPropertyValue":"","links":[]},"links":[]},"links":[]}],"links":[]},"fieldBinding":[],"links":[]}}